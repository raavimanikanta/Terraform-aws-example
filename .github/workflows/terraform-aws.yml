name: 'AWS-terraform-workflow'

on:
  workflow_dispatch:

jobs:
   first-job:
       name: "terraform-automate"
       runs-on: ubuntu-latest

       steps:
         - name: Checkout
           uses: actions/checkout@v1

         - name: Setup Terraform
           uses: hashicorp/setup-terraform@v1

         - name: Terraform Init
           working-directory: ./pipeline-aws
           run: terraform init -reconfigure
           

         - name: Terraform-apply
           working-directory: ./pipeline-aws
           run: terraform apply -auto-approve -input=false
